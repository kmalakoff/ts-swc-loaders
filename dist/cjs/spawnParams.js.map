{"version":3,"sources":["spawnParams.cjs"],"sourcesContent":["require('./polyfills.cjs');\nconst processCompat = typeof process === 'undefined' ? require('process') : process;\n\nconst major = +processCompat.versions.node.split('.')[0];\nconst _importArgs = 'data:text/javascript,import { register } from \"node:module\"; import { pathToFileURL } from \"node:url\"; register(\"ts-swc-loaders\", pathToFileURL(\"./\"));';\n\nmodule.exports = function spawnParams(type, options) {\n  if (type === 'commonjs') return { args: ['--require', 'ts-swc-loaders'], options };\n  // https://nodejs.org/api/module.html#moduleregisterspecifier-parenturl-options\n  // v20.8.0\n  // if (major >= 20) return { args: ['--no-warnings=ExperimentalWarning', '--import', importArgs], options };\n\n  // args\n  const args = major > 4 ? ['--no-warnings=ExperimentalWarning'] : [];\n  if (major <= 16) args.push('--experimental-modules');\n\n  // options\n  const env = options.env || processCompat.env;\n  options = { ...(options || {}) };\n  options.env = { ...env };\n  options.env.NODE_OPTIONS = `--loader ts-swc-loaders${env.NODE_OPTIONS ? ` ${options.env.NODE_OPTIONS}` : ''}`;\n  return { args, options };\n};\n"],"names":["require","processCompat","process","major","versions","node","split","_importArgs","module","exports","spawnParams","type","options","args","push","env","NODE_OPTIONS"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAAA,QAAQ;AACR,IAAMC,gBAAgB,OAAOC,YAAY,cAAcF,QAAQ,aAAaE;AAE5E,IAAMC,QAAQ,CAACF,cAAcG,QAAQ,CAACC,IAAI,CAACC,KAAK,CAAC,IAAI,CAAC,EAAE;AACxD,IAAMC,cAAc;AAEpBC,OAAOC,OAAO,GAAG,SAASC,YAAYC,IAAI,EAAEC,OAAO;IACjD,IAAID,SAAS,YAAY,OAAO;QAAEE,MAAM;YAAC;YAAa;SAAiB;QAAED,SAAAA;IAAQ;IACjF,+EAA+E;IAC/E,UAAU;IACV,4GAA4G;IAE5G,OAAO;IACP,IAAMC,OAAOV,QAAQ,IAAI;QAAC;KAAoC,GAAG,EAAE;IACnE,IAAIA,SAAS,IAAIU,KAAKC,IAAI,CAAC;IAE3B,UAAU;IACV,IAAMC,MAAMH,QAAQG,GAAG,IAAId,cAAcc,GAAG;IAC5CH,UAAU,mBAAMA,WAAW,CAAC;IAC5BA,QAAQG,GAAG,GAAG,mBAAKA;IACnBH,QAAQG,GAAG,CAACC,YAAY,GAAG,AAAC,0BAAgF,OAAvDD,IAAIC,YAAY,GAAG,AAAC,IAA4B,OAAzBJ,QAAQG,GAAG,CAACC,YAAY,IAAK;IACzG,OAAO;QAAEH,MAAAA;QAAMD,SAAAA;IAAQ;AACzB"}