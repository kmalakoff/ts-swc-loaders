{"version":3,"sources":["cli.cjs"],"sourcesContent":["const exit = require('exit');\nconst path = require('path');\nconst crossSpawn = require('cross-spawn-cb');\nconst pathKey = require('env-path-key');\nconst prepend = require('path-string-prepend');\nconst spawnArgs = require('./index.mjs').spawnArgs;\n\nconst major = +process.versions.node.split('.')[0];\nconst type = major < 12 ? 'commonjs' : 'module';\n\nmodule.exports = function cli(args, options) {\n  const cwd = process.cwd();\n  const env = { ...process.env };\n  const PATH_KEY = pathKey();\n  env[PATH_KEY] = prepend(env[PATH_KEY] || '', path.resolve(__dirname, '..', '..', 'node_modules', '.bin'));\n  env[PATH_KEY] = prepend(env[PATH_KEY] || '', path.resolve(process.cwd(), 'node_modules', '.bin'));\n  const spanwOptions = { stdio: 'inherit', cwd, env, ...(options || {}) };\n  const argsSpawn = spawnArgs(type, spanwOptions);\n  crossSpawn(args[0], argsSpawn.args.concat(args.slice(1)), argsSpawn.options, (err) => {\n    if (err) {\n      console.log(err.message);\n      return exit(err.code || -1);\n    }\n    exit(0);\n  });\n};\n"],"names":["exit","require","path","crossSpawn","pathKey","prepend","spawnArgs","major","process","versions","node","split","type","module","exports","cli","args","options","cwd","env","PATH_KEY","resolve","__dirname","spanwOptions","stdio","argsSpawn","concat","slice","err","console","log","message","code"],"mappings":"AAAA,MAAMA,OAAOC,QAAQ;AACrB,MAAMC,OAAOD,QAAQ;AACrB,MAAME,aAAaF,QAAQ;AAC3B,MAAMG,UAAUH,QAAQ;AACxB,MAAMI,UAAUJ,QAAQ;AACxB,MAAMK,YAAYL,QAAQ,eAAeK,SAAS;AAElD,MAAMC,QAAQ,CAACC,QAAQC,QAAQ,CAACC,IAAI,CAACC,KAAK,CAAC,IAAI,CAAC,EAAE;AAClD,MAAMC,OAAOL,QAAQ,KAAK,aAAa;AAEvCM,OAAOC,OAAO,GAAG,SAASC,IAAIC,IAAI,EAAEC,OAAO;IACzC,MAAMC,MAAMV,QAAQU,GAAG;IACvB,MAAMC,MAAM;QAAE,GAAGX,QAAQW,GAAG;IAAC;IAC7B,MAAMC,WAAWhB;IACjBe,GAAG,CAACC,SAAS,GAAGf,QAAQc,GAAG,CAACC,SAAS,IAAI,IAAIlB,KAAKmB,OAAO,CAACC,WAAW,MAAM,MAAM,gBAAgB;IACjGH,GAAG,CAACC,SAAS,GAAGf,QAAQc,GAAG,CAACC,SAAS,IAAI,IAAIlB,KAAKmB,OAAO,CAACb,QAAQU,GAAG,IAAI,gBAAgB;IACzF,MAAMK,eAAe;QAAEC,OAAO;QAAWN;QAAKC;QAAK,GAAIF,WAAW,CAAC,CAAC;IAAE;IACtE,MAAMQ,YAAYnB,UAAUM,MAAMW;IAClCpB,WAAWa,IAAI,CAAC,EAAE,EAAES,UAAUT,IAAI,CAACU,MAAM,CAACV,KAAKW,KAAK,CAAC,KAAKF,UAAUR,OAAO,EAAE,CAACW;QAC5E,IAAIA,KAAK;YACPC,QAAQC,GAAG,CAACF,IAAIG,OAAO;YACvB,OAAO/B,KAAK4B,IAAII,IAAI,IAAI,CAAC;QAC3B;QACAhC,KAAK;IACP;AACF"}