{"version":3,"sources":["cli.cjs"],"sourcesContent":["const exit = require('exit');\nconst path = require('path');\nconst crossSpawn = require('cross-spawn-cb');\nconst pathKey = require('env-path-key');\nconst prepend = require('path-string-prepend');\nconst spawnParams = require('./index.mjs').spawnParams;\n\nconst major = +process.versions.node.split('.')[0];\nconst type = major < 12 ? 'commonjs' : 'module';\n\nmodule.exports = function cli(args, options) {\n  const cwd = process.cwd();\n  const env = { ...process.env };\n  const PATH_KEY = pathKey();\n  env[PATH_KEY] = prepend(env[PATH_KEY] || '', path.resolve(__dirname, '..', '..', 'node_modules', '.bin'));\n  env[PATH_KEY] = prepend(env[PATH_KEY] || '', path.resolve(process.cwd(), 'node_modules', '.bin'));\n  const params = spawnParams(type, { stdio: 'inherit', cwd, env, ...(options || {}) });\n  crossSpawn(args[0], params.args.concat(args.slice(1)), params.options, (err) => {\n    if (err) {\n      console.log(err.message);\n      return exit(err.code || -1);\n    }\n    exit(0);\n  });\n};\n"],"names":["exit","require","path","crossSpawn","pathKey","prepend","spawnParams","major","process","versions","node","split","type","module","exports","cli","args","options","cwd","env","PATH_KEY","resolve","__dirname","params","stdio","concat","slice","err","console","log","message","code"],"mappings":"AAAA,MAAMA,OAAOC,QAAQ;AACrB,MAAMC,OAAOD,QAAQ;AACrB,MAAME,aAAaF,QAAQ;AAC3B,MAAMG,UAAUH,QAAQ;AACxB,MAAMI,UAAUJ,QAAQ;AACxB,MAAMK,cAAcL,QAAQ,eAAeK,WAAW;AAEtD,MAAMC,QAAQ,CAACC,QAAQC,QAAQ,CAACC,IAAI,CAACC,KAAK,CAAC,IAAI,CAAC,EAAE;AAClD,MAAMC,OAAOL,QAAQ,KAAK,aAAa;AAEvCM,OAAOC,OAAO,GAAG,SAASC,IAAIC,IAAI,EAAEC,OAAO;IACzC,MAAMC,MAAMV,QAAQU,GAAG;IACvB,MAAMC,MAAM;QAAE,GAAGX,QAAQW,GAAG;IAAC;IAC7B,MAAMC,WAAWhB;IACjBe,GAAG,CAACC,SAAS,GAAGf,QAAQc,GAAG,CAACC,SAAS,IAAI,IAAIlB,KAAKmB,OAAO,CAACC,WAAW,MAAM,MAAM,gBAAgB;IACjGH,GAAG,CAACC,SAAS,GAAGf,QAAQc,GAAG,CAACC,SAAS,IAAI,IAAIlB,KAAKmB,OAAO,CAACb,QAAQU,GAAG,IAAI,gBAAgB;IACzF,MAAMK,SAASjB,YAAYM,MAAM;QAAEY,OAAO;QAAWN;QAAKC;QAAK,GAAIF,WAAW,CAAC,CAAC;IAAE;IAClFd,WAAWa,IAAI,CAAC,EAAE,EAAEO,OAAOP,IAAI,CAACS,MAAM,CAACT,KAAKU,KAAK,CAAC,KAAKH,OAAON,OAAO,EAAE,CAACU;QACtE,IAAIA,KAAK;YACPC,QAAQC,GAAG,CAACF,IAAIG,OAAO;YACvB,OAAO9B,KAAK2B,IAAII,IAAI,IAAI,CAAC;QAC3B;QACA/B,KAAK;IACP;AACF"}