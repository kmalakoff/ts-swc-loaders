{"version":3,"sources":["createSpawnArgs.mjs"],"sourcesContent":["const importArgs = 'data:text/javascript,import { register } from \"node:module\"; import { pathToFileURL } from \"node:url\"; register(\"ts-swc-loaders\", pathToFileURL(\"./\"));';\n\nexport default function createSpawnArgs(type, options, major) {\n  if (type === 'module') {\n    if (major >= 18) {\n      return { args: ['--no-warnings=ExperimentalWarning', '--import', importArgs], options };\n    }\n\n    const NODE_OPTIONS = `--loader ts-swc-loaders${major < 11 ? ' --experimental-modules' : ''}`;\n    const spawnOptions = { ...(options || {}) };\n    spawnOptions.env = { ...(spawnOptions.env || {}) };\n    spawnOptions.env.NODE_OPTIONS = `${NODE_OPTIONS}${spawnOptions.env.NODE_OPTIONS ? ` ${spawnOptions.env.NODE_OPTIONS}` : ''}`;\n    return { args: major >= 10 ? ['--no-warnings=ExperimentalWarning'] : [], options: spawnOptions };\n  }\n  // commonjs\n  return { args: ['--require', 'ts-swc-loaders'], options };\n}\n"],"names":["importArgs","createSpawnArgs","type","options","major","args","NODE_OPTIONS","spawnOptions","env"],"mappings":"AAAA,MAAMA,aAAa;AAEnB,eAAe,SAASC,gBAAgBC,IAAI,EAAEC,OAAO,EAAEC,KAAK;IAC1D,IAAIF,SAAS,UAAU;QACrB,IAAIE,SAAS,IAAI;YACf,OAAO;gBAAEC,MAAM;oBAAC;oBAAqC;oBAAYL;iBAAW;gBAAEG;YAAQ;QACxF;QAEA,MAAMG,eAAe,CAAC,uBAAuB,EAAEF,QAAQ,KAAK,4BAA4B,GAAG,CAAC;QAC5F,MAAMG,eAAe;YAAE,GAAIJ,WAAW,CAAC,CAAC;QAAE;QAC1CI,aAAaC,GAAG,GAAG;YAAE,GAAID,aAAaC,GAAG,IAAI,CAAC,CAAC;QAAE;QACjDD,aAAaC,GAAG,CAACF,YAAY,GAAG,CAAC,EAAEA,aAAa,EAAEC,aAAaC,GAAG,CAACF,YAAY,GAAG,CAAC,CAAC,EAAEC,aAAaC,GAAG,CAACF,YAAY,CAAC,CAAC,GAAG,GAAG,CAAC;QAC5H,OAAO;YAAED,MAAMD,SAAS,KAAK;gBAAC;aAAoC,GAAG,EAAE;YAAED,SAASI;QAAa;IACjG;IACA,WAAW;IACX,OAAO;QAAEF,MAAM;YAAC;YAAa;SAAiB;QAAEF;IAAQ;AAC1D"}