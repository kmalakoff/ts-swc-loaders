{"version":3,"sources":["spawnArgs.cjs"],"sourcesContent":["require('./polyfills.cjs');\nconst processCompat = typeof process === 'undefined' ? require('process') : process;\n\nconst major = +processCompat.versions.node.split('.')[0];\nconst importArgs = 'data:text/javascript,import { register } from \"node:module\"; import { pathToFileURL } from \"node:url\"; register(\"ts-swc-loaders\", pathToFileURL(\"./\"));';\n\nmodule.exports = function spawnArgs(type, cmd, args, options) {\n  if (type === 'module') {\n    if (major >= 18) return ['node', ['--no-warnings=ExperimentalWarning', '--import', importArgs, cmd].concat(args), options];\n    const env = Object.assign({ NODE_OPTIONS: '--loader ' + 'ts-swc-loaders' }, options.env || processCompat.env);\n    return ['node', ['--no-warnings=ExperimentalWarning', cmd].concat(args), Object.assign({ env: env }, options)];\n  }\n  // commonjs\n  return [cmd, ['--require', 'ts-swc-loaders'].concat(args), options];\n};\n"],"names":["require","processCompat","process","major","versions","node","split","importArgs","module","exports","spawnArgs","type","cmd","args","options","concat","env","Object","assign","NODE_OPTIONS"],"mappings":"AAAAA,QAAQ;AACR,MAAMC,gBAAgB,OAAOC,YAAY,cAAcF,QAAQ,aAAaE;AAE5E,MAAMC,QAAQ,CAACF,cAAcG,QAAQ,CAACC,IAAI,CAACC,KAAK,CAAC,IAAI,CAAC,EAAE;AACxD,MAAMC,aAAa;AAEnBC,OAAOC,OAAO,GAAG,SAASC,UAAUC,IAAI,EAAEC,GAAG,EAAEC,IAAI,EAAEC,OAAO;IAC1D,IAAIH,SAAS,UAAU;QACrB,IAAIR,SAAS,IAAI,OAAO;YAAC;YAAQ;gBAAC;gBAAqC;gBAAYI;gBAAYK;aAAI,CAACG,MAAM,CAACF;YAAOC;SAAQ;QAC1H,MAAME,MAAMC,OAAOC,MAAM,CAAC;YAAEC,cAAc,cAAc;QAAiB,GAAGL,QAAQE,GAAG,IAAIf,cAAce,GAAG;QAC5G,OAAO;YAAC;YAAQ;gBAAC;gBAAqCJ;aAAI,CAACG,MAAM,CAACF;YAAOI,OAAOC,MAAM,CAAC;gBAAEF,KAAKA;YAAI,GAAGF;SAAS;IAChH;IACA,WAAW;IACX,OAAO;QAACF;QAAK;YAAC;YAAa;SAAiB,CAACG,MAAM,CAACF;QAAOC;KAAQ;AACrE"}