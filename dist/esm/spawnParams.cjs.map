{"version":3,"sources":["spawnParams.cjs"],"sourcesContent":["require('./polyfills.cjs');\nconst processCompat = typeof process === 'undefined' ? require('process') : process;\n\nconst major = +processCompat.versions.node.split('.')[0];\nconst importArgs = 'data:text/javascript,import { register } from \"node:module\"; import { pathToFileURL } from \"node:url\"; register(\"ts-swc-loaders\", pathToFileURL(\"./\"));';\n\nmodule.exports = function spawnParams(type, options) {\n  if (type === 'commonjs') return { args: ['--require', 'ts-swc-loaders'], options };\n  if (major >= 18) return { args: ['--no-warnings=ExperimentalWarning', '--import', importArgs], options };\n\n  const env = options.env || processCompat.env;\n  const spawnOptions = { ...(options || {}) };\n  spawnOptions.env = { ...env };\n  spawnOptions.env.NODE_OPTIONS = `--loader ts-swc-loaders${env.NODE_OPTIONS ? ` ${spawnOptions.env.NODE_OPTIONS}` : ''}`;\n  return { args: major > 4 ? ['--no-warnings=ExperimentalWarning'] : [], options: spawnOptions };\n};\n"],"names":["require","processCompat","process","major","versions","node","split","importArgs","module","exports","spawnParams","type","options","args","env","spawnOptions","NODE_OPTIONS"],"mappings":"AAAAA,QAAQ;AACR,MAAMC,gBAAgB,OAAOC,YAAY,cAAcF,QAAQ,aAAaE;AAE5E,MAAMC,QAAQ,CAACF,cAAcG,QAAQ,CAACC,IAAI,CAACC,KAAK,CAAC,IAAI,CAAC,EAAE;AACxD,MAAMC,aAAa;AAEnBC,OAAOC,OAAO,GAAG,SAASC,YAAYC,IAAI,EAAEC,OAAO;IACjD,IAAID,SAAS,YAAY,OAAO;QAAEE,MAAM;YAAC;YAAa;SAAiB;QAAED;IAAQ;IACjF,IAAIT,SAAS,IAAI,OAAO;QAAEU,MAAM;YAAC;YAAqC;YAAYN;SAAW;QAAEK;IAAQ;IAEvG,MAAME,MAAMF,QAAQE,GAAG,IAAIb,cAAca,GAAG;IAC5C,MAAMC,eAAe;QAAE,GAAIH,WAAW,CAAC,CAAC;IAAE;IAC1CG,aAAaD,GAAG,GAAG;QAAE,GAAGA,GAAG;IAAC;IAC5BC,aAAaD,GAAG,CAACE,YAAY,GAAG,CAAC,uBAAuB,EAAEF,IAAIE,YAAY,GAAG,CAAC,CAAC,EAAED,aAAaD,GAAG,CAACE,YAAY,CAAC,CAAC,GAAG,GAAG,CAAC;IACvH,OAAO;QAAEH,MAAMV,QAAQ,IAAI;YAAC;SAAoC,GAAG,EAAE;QAAES,SAASG;IAAa;AAC/F"}